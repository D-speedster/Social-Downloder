# ๐๏ธ ุงุจุฒุงุฑูุง ฺฉูฺฉ

ุงู ูพูุดู ุดุงูู ุงุณฺฉุฑูพุชโูุง ฺฉูฺฉ ุจุฑุง ูุฏุฑุช ู debug ุฑุจุงุช ุงุณุช.

---

## ๐ ูุณุช ุงุจุฒุงุฑูุง

### 1. `check_database_status.py`
ุจุฑุฑุณ ฺฉุงูู ูุถุนุช ุฏุชุงุจุณ

**ุงุณุชูุงุฏู:**
```bash
python tools/check_database_status.py
```

**ุฎุฑูุฌ:**
- ูุณุช ุฌุฏุงูู
- ุชุนุฏุงุฏ ุฑฺฉูุฑุฏูุง
- ุขูุงุฑ ูพูุชูุฑูโูุง
- ุขูุงุฑ ูุถุนุชโูุง
- ุขุฎุฑู ุฏุฑุฎูุงุณุชโูุง

---

### 2. `debug_stats.py`
Debug ุฏูู ุขูุงุฑ ุฏุฑุฎูุงุณุชโูุง

**ุงุณุชูุงุฏู:**
```bash
python tools/debug_stats.py
```

**ุฎุฑูุฌ:**
- ุขูุงุฑ ฺฉุงูู ุฌุฏูู requests
- ุชุณุช ุชูุงุจุน ุขูุงุฑ
- ุจุฑุฑุณ cache
- ููุงุด ูุฑูุช ุดุฏู

---

### 3. `migrate_requests_table.py`
ุณุงุฎุช ุฌุฏูู requests (ุจุฑุง ุงููู ุจุงุฑ ุง migration)

**ุงุณุชูุงุฏู:**
```bash
python tools/migrate_requests_table.py
```

**ฺฉุงุฑุจุฑุฏ:**
- ุณุงุฎุช ุฌุฏูู requests ุงฺฏุฑ ูุฌูุฏ ูุฏุงุฑู
- ุจุฑุฑุณ ุณุงุฎุชุงุฑ ุฌุฏูู
- ุชุณุช ุชูุงุจุน ุขูุงุฑ

---

## ๐ ุงุณุชูุงุฏู ุฑู ุณุฑูุฑ

### ุจุฑุฑุณ ุณุฑุน
```bash
# SSH ุจู ุณุฑูุฑ
ssh user@server
cd /path/to/bot

# ุจุฑุฑุณ ูุถุนุช
python3 tools/check_database_status.py

# Debug ุขูุงุฑ
python3 tools/debug_stats.py
```

### ุงููู ุฑุงูโุงูุฏุงุฒ
```bash
# ุณุงุฎุช ุฌุฏูู requests
python3 tools/migrate_requests_table.py

# ุจุฑุฑุณ
python3 tools/check_database_status.py
```

---

## ๐ ูุซุงู ุฎุฑูุฌ

### check_database_status.py
```
======================================================================
๐ ุจุฑุฑุณ ูุถุนุช ุฏุชุงุจุณ
======================================================================

โ ููุน ุฏุชุงุจุณ: sqlite
๐ ูุงู ุฏุชุงุจุณ: database.db
๐ ุญุฌู: 2.45 MB

๐ ูุณุช ุฌุฏุงูู
======================================================================
๐ ุชุนุฏุงุฏ ุฌุฏุงูู: 10
  โข users
  โข requests
  โข failed_requests
  ...

๐ ุจุฑุฑุณ ุฌุฏูู requests
======================================================================
โ ุฌุฏูู requests ูุฌูุฏ ุฏุงุฑุฏ
๐ ุชุนุฏุงุฏ ฺฉู ุฑฺฉูุฑุฏูุง: 259

๐ฑ ุขูุงุฑ ูพูุชูุฑูโูุง:
  โข youtube      :      3 (  9.7%)
  โข aparat       :      1 (  3.2%)
  โข adult        :      9 ( 29.0%)
  โข universal    :     18 ( 58.1%)
```

---

## ๐ก ูฺฉุงุช

### ุจุฑุง Windows
ุงุณฺฉุฑูพุชโูุง encoding UTF-8 ุฏุงุฑู ู ุฑู Windows ูู ฺฉุงุฑ ูฺฉูู.

### ุจุฑุง Linux/Mac
ูุณุชููุงู ุงุฌุฑุง ฺฉูุฏ:
```bash
python3 tools/check_database_status.py
```

### Troubleshooting
ุงฺฏุฑ ุฎุทุง ฺฏุฑูุชุฏ:
1. ูุทูุฆู ุดูุฏ ุฏุฑ root ูพุฑูฺู ูุณุชุฏ
2. ุจุฑุฑุณ ฺฉูุฏ ุฏุชุงุจุณ ูุฌูุฏ ุฏุงุฑู
3. Python 3.7+ ูุตุจ ุจุงุดู

---

## ๐ ูุณุชูุฏุงุช ูุฑุชุจุท

- [ุฑุงูููุง Setup ุณุฑูุฑ](../docs/SERVER_SETUP_GUIDE.md)
- [ุนุจโุงุจ](../docs/TROUBLESHOOTING.md)
- [ุฑุงูููุง ุณุฑุน](../docs/QUICK_START_SERVER.md)

---

**ูฺฉุชู:** ุงู ุงุจุฒุงุฑูุง ููุท ุจุฑุง debug ู ูุฏุฑุช ูุณุชูุ ุจุฑุง ุงุฌุฑุง ุฑุจุงุช ุงุฒ `main.py` ุงุณุชูุงุฏู ฺฉูุฏ.
