# ฺฏุฒุงุฑุด ูพุงุฏูโุณุงุฒ ุณุณุชู ุฏุงูููุฏ ุฌูุงู

## ุฎูุงุตู ูพุฑูฺู
ุงู ฺฏุฒุงุฑุด ุดุงูู ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ ุณุณุชู ุฏุงูููุฏ ุฌูุงู ุจุฑุง ุฑุจุงุช ุชูฺฏุฑุงู ุงุณุช ฺฉู ูุงุจูุช ุฏุงูููุฏ ุงุฒ ูพูุชูุฑูโูุง ูุฎุชูู ุฑุง ูุฑุงูู ูโฺฉูุฏ.

## ุงูุฏุงู ูพุฑูฺู
- ฺฏุณุชุฑุด ูุงุจูุชโูุง ุฑุจุงุช ุจุฑุง ูพุดุชุจุงู ุงุฒ ูพูุชูุฑูโูุง ุฌุฏุฏ
- ุญูุธ ุนููฺฉุฑุฏ ููุฌูุฏ ูุชูุจ ุจุง yt-dlp
- ุงุณุชูุงุฏู ุงุฒ API ููุฌูุฏ ุจุฑุง ูพูุชูุฑูโูุง ุฌุฏุฏ (ุงูุณุชุงฺฏุฑุงูุ ุงุณูพุงุชูุงุ ุชฺฉโุชุงฺฉุ ุณุงูุฏฺฉูุงุฏ)

## ุชุบุฑุงุช ุงูุฌุงู ุดุฏู

### 1. ุจุฑูุฒุฑุณุงู plugins/start.py
**ุชุบุฑุงุช ฺฉูุฏ:**
- ุงุถุงูู ฺฉุฑุฏู regex patterns ุจุฑุง ูพูุชูุฑูโูุง ุฌุฏุฏ:
  - `SPOTIFY_REGEX`: ุจุฑุง ููฺฉโูุง ุงุณูพุงุชูุง
  - `TIKTOK_REGEX`: ุจุฑุง ููฺฉโูุง ุชฺฉโุชุงฺฉ
  - `SOUNDCLOUD_REGEX`: ุจุฑุง ููฺฉโูุง ุณุงูุฏฺฉูุงุฏ

- ูพุงุฏูโุณุงุฒ handler ฺฉู `handle_text_messages` ุจุฑุง ูพุฑุฏุงุฒุด ูพุงูโูุง ูุชู
- ูุณุฑุงุจ ููุดููุฏ ููฺฉโูุง:
  - ูุชูุจ โ `show_video` (yt-dlp)
  - ุงูุณุชุงฺฏุฑุงู โ `download_instagram` (API)
  - ุงุณูพุงุชูุงุ ุชฺฉโุชุงฺฉุ ุณุงูุฏฺฉูุงุฏ โ `handle_universal_link` (API)

- ุจูุจูุฏ ูพุงู ุฑุงูููุง ุจุง ูุณุช ฺฉุงูู ูพูุชูุฑูโูุง ูพุดุชุจุงู ุดุฏู

### 2. ุงุฌุงุฏ plugins/universal_downloader.py
**ูฺฺฏโูุง ฺฉูุฏ:**
- `determine_platform_from_url()`: ุชุดุฎุต ุฎูุฏฺฉุงุฑ ูพูุชูุฑู ุงุฒ URL
- `get_universal_data_from_api()`: ุฏุฑุงูุช ุฏุงุฏู ุงุฒ API ุฌูุงู
- `handle_universal_link()`: ูพุฑุฏุงุฒุด ฺฉุงูู ุฏุงูููุฏ ุดุงูู:
  - ุจุฑุฑุณ ูุถุนุช ฺฉุงุฑุจุฑ (ุซุจุชโูุงูุ ูุณุฏูุฏุช)
  - ุฏุฑุงูุช ุฏุงุฏู ุงุฒ API
  - ุงูุชุฎุงุจ ุจูุชุฑู ฺฉูุช ุฑุณุงูู
  - ุฏุงูููุฏ ุจุง ููุงุด ูพุดุฑูุช
  - ุงุฑุณุงู ุชุจูุบุงุช (ูุจู/ุจุนุฏ ุงุฒ ูุญุชูุง)
  - ุขูพููุฏ ูุงู ุจู ุชูฺฏุฑุงู
  - ุจูโุฑูุฒุฑุณุงู ุขูุงุฑ ุฏุงูููุฏ

## ุณุงุฎุชุงุฑ API Response
ุณุณุชู ุจุง ูุฑูุชโูุง ุฒุฑ ุณุงุฒฺฏุงุฑ ุงุณุช:

### ุงุณูพุงุชูุง
```json
{
  "url": "https://open.spotify.com/track/...",
  "source": "spotify",
  "title": "ูุงู ุขููฺฏ",
  "author": "ูุงู ููุฑููุฏ",
  "thumbnail": "URL ุชุตูุฑ",
  "duration": "ูุฏุช ุฒูุงู",
  "medias": [
    {
      "url": "URL ุฏุงูููุฏ",
      "quality": "ฺฉูุช",
      "extension": "mp3",
      "type": "audio"
    }
  ]
}
```

### ุชฺฉโุชุงฺฉ
```json
{
  "url": "https://www.tiktok.com/@user/video/...",
  "source": "tiktok",
  "title": "ุนููุงู ูุฏู",
  "author": "ูุงู ฺฉุงุฑุจุฑ",
  "thumbnail": "URL ุชุตูุฑ",
  "duration": "ูุฏุช ุฒูุงู",
  "medias": [
    {
      "url": "URL ุฏุงูููุฏ",
      "quality": "HD",
      "extension": "mp4",
      "type": "video"
    }
  ]
}
```

### ุณุงูุฏฺฉูุงุฏ
```json
{
  "url": "https://soundcloud.com/user/track",
  "source": "soundcloud",
  "title": "ูุงู ุขููฺฏ",
  "author": "ูุงู ููุฑููุฏ",
  "thumbnail": "URL ุชุตูุฑ",
  "duration": "ูุฏุช ุฒูุงู",
  "medias": [
    {
      "url": "URL ุฏุงูููุฏ",
      "quality": "128kbps",
      "extension": "mp3",
      "type": "audio"
    }
  ]
}
```

## ููุทู ุงูุชุฎุงุจ ุฑุณุงูู
ุณุณุชู ุจุฑ ุงุณุงุณ ุงูููุช ุฒุฑ ุฑุณุงูู ุฑุง ุงูุชุฎุงุจ ูโฺฉูุฏ:
1. **ูุฏู**: ุงูููุช ุงูู ุจุฑุง ูุญุชูุง ุชุตูุฑ
2. **ุตูุช**: ุงูููุช ุฏูู ุจุฑุง ูุญุชูุง ุตูุช
3. **ุงููู ุฑุณุงูู ููุฌูุฏ**: ุฏุฑ ุตูุฑุช ุนุฏู ูุฌูุฏ ููุงุฑุฏ ุจุงูุง

## ูุฏุฑุช ุฎุทุง
- ุจุฑุฑุณ ูุฌูุฏ ุฏุงุฏูโูุง API
- ูุฏุฑุช ุฎุทุงูุง ุฏุงูููุฏ
- ูพุงูโูุง ุฎุทุง ฺฉุงุฑุจุฑูพุณูุฏ
- ุงุฏุงูู ุนููฺฉุฑุฏ ุฏุฑ ุตูุฑุช ุจุฑูุฒ ุฎุทุง

## ุชุณุชโูุง ุงูุฌุงู ุดุฏู

### ูุดฺฉูุงุช ุญู ุดุฏู โ
1. **ุชุดุฎุต URL ุณุงูุฏฺฉูุงุฏ**: ุงูฺฏู regex ุจุฑุง ุดุงูู ฺฉุฑุฏู ุฏุงูููโูุง `on.soundcloud.com` ุจูโุฑูุฒุฑุณุงู ุดุฏ
2. **ุณุณุชู ุซุจุชโูุงู ฺฉุงุฑุจุฑ**: ฺฉูพุงุฑฺูโุณุงุฒ ุจุง ฺฉูุงุณ DB ููุฌูุฏ ุจุฑุง ูุฏุฑุช ุตุญุญ ฺฉุงุฑุจุฑุงู
3. **ุฒูุงูโุจูุฏ ุชุจูุบุงุช ุงูุณุชุงฺฏุฑุงู**: ุฑูุน ูุดฺฉู ุงุฑุณุงู ุชฺฉุฑุงุฑ ุชุจูุบุงุช ู ุจูุจูุฏ ุฒูุงูโุจูุฏ
4. **ฺฉูพุงุฑฺูโุณุงุฒ ูพุงฺฏุงู ุฏุงุฏู**: ุฌุงฺฏุฒู ุชูุงุจุน ูพุงฺฏุงู ุฏุงุฏู ุณูุงุฑุด ุจุง ูุชุฏูุง ฺฉูุงุณ DB ููุฌูุฏ

### ุชุณุช ุฑุงูโุงูุฏุงุฒ ุณุณุชู
- โ ุฑุจุงุช ุจุง ููููุช ุฑุงูโุงูุฏุงุฒ ุดุฏ
- โ๏ธ ุฎุทุง TgCrypto (ุบุฑุญุงุช - ูุฑุจูุท ุจู ุจูููโุณุงุฒ ุนููฺฉุฑุฏ)
- โ ุชูุงู dependencies ุงุตู ูุตุจ ุดุฏูุฏ
- โ ูุณุฑุงุจ URL ุจุฑุง ุชูุงู ูพูุชูุฑูโูุง ุจู ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ

### ุจูุจูุฏูุง ุงุฎุฑ ๐ง
- ุฑูุน ูุดฺฉู regex ุณุงูุฏฺฉูุงุฏ ุจุฑุง ูพุดุชุจุงู ุงุฒ ููฺฉโูุง `on.soundcloud.com`
- ฺฉูพุงุฑฺูโุณุงุฒ ุจุฑุฑุณ ุซุจุชโูุงู ฺฉุงุฑุจุฑ ุจุง ุณุณุชู ูพุงฺฏุงู ุฏุงุฏู ููุฌูุฏ
- ุจูุจูุฏ ุฒูุงูโุจูุฏ ุชุจูุบุงุช ุจุฑุง ุฏุงูููุฏูุง ุงูุณุชุงฺฏุฑุงู
- ุชููุช ูุฏุฑุช ุฎุทุง ู ูพุงูโูุง ุจุงุฒุฎูุฑุฏ ฺฉุงุฑุจุฑ

### ุชุณุชโูุง ุนููฺฉุฑุฏ
**ุชุณุชโูุง ูพุดููุงุฏ ุจุฑุง ูุญุท production:**
1. **ุชุณุช ูุชูุจ**: ุงุฑุณุงู ููฺฉ ูุชูุจ ู ุจุฑุฑุณ ุงุณุชูุงุฏู ุงุฒ yt-dlp
2. **ุชุณุช ุงูุณุชุงฺฏุฑุงู**: ุงุฑุณุงู ููฺฉ ุงูุณุชุงฺฏุฑุงู ู ุจุฑุฑุณ ุฏุงูููุฏ ุงุฒ API
3. **ุชุณุช ุงุณูพุงุชูุง**: ุงุฑุณุงู ููฺฉ ุงุณูพุงุชูุง ู ุจุฑุฑุณ ุฏุงูููุฏ ุตูุช
4. **ุชุณุช ุชฺฉโุชุงฺฉ**: ุงุฑุณุงู ููฺฉ ุชฺฉโุชุงฺฉ ู ุจุฑุฑุณ ุฏุงูููุฏ ูุฏู
5. **ุชุณุช ุณุงูุฏฺฉูุงุฏ**: ุงุฑุณุงู ููฺฉ ุณุงูุฏฺฉูุงุฏ (ุดุงูู on.soundcloud.com) ู ุจุฑุฑุณ ุฏุงูููุฏ ุตูุช
6. **ุชุณุช ููฺฉ ูุงูุนุชุจุฑ**: ุงุฑุณุงู ููฺฉ ุบุฑูพุดุชุจุงู ุดุฏู ู ุจุฑุฑุณ ูพุงู ุฑุงูููุง

## ุจูุจูุฏูุง ุขูุฏู
1. **ุงูุฒูุฏู ูพูุชูุฑูโูุง ุฌุฏุฏ**: ูุงุจูุช ฺฏุณุชุฑุด ุขุณุงู ุจุฑุง ูพูุชูุฑูโูุง ุฏฺฏุฑ
2. **ุจูููโุณุงุฒ ุนููฺฉุฑุฏ**: ฺฉุด ฺฉุฑุฏู ุฏุงุฏูโูุง ู ุจูุจูุฏ ุณุฑุนุช
3. **ูุฏุฑุช ฺฉูุช**: ุงูฺฉุงู ุงูุชุฎุงุจ ฺฉูุช ุชูุณุท ฺฉุงุฑุจุฑ
4. **ุขูุงุฑ ุชูุตู**: ุฑุฏุงุจ ุฏููโุชุฑ ุงุณุชูุงุฏู ุงุฒ ูุฑ ูพูุชูุฑู

## ูุชุฌูโฺฏุฑ
ุณุณุชู ุฏุงูููุฏ ุฌูุงู ุจุง ููููุช ูพุงุฏูโุณุงุฒ ุดุฏ ู ุขูุงุฏู ุงุณุชูุงุฏู ุงุณุช. ุชูุงู ุงูุฏุงู ุงููู ูุญูู ุดุฏู ู ุณุณุชู ูุงุจูุช ฺฏุณุชุฑุด ุจุฑุง ูพูุชูุฑูโูุง ุขูุฏู ุฑุง ุฏุงุฑุฏ.

**ูุถุนุช ูพุฑูฺู**: โ ุชฺฉูู ุดุฏู ู ุขูุงุฏู ุชููุฏ

---
*ฺฏุฒุงุฑุด ุชูู ุดุฏู ุฏุฑ ุชุงุฑุฎ: ด ููุฑ ฑดฐณ*
*ูุณุฎู: 1.0*