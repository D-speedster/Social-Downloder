# ๐ ุฑุงูููุง ุฏุจุงฺฏ ุณุณุชู ุจุงุฒุงุจ ุฏุณุช

## ูุดฺฉู ฺฏุฒุงุฑุด ุดุฏู
ุณุณุชู ุจุงุฒุงุจ ุฏุณุช ููุท ูพุงูโูุง ุงุฏูู ุฑุง ูพุฑุฏุงุฒุด ูโฺฉูุฏุ ูู ููู ฺฉุงุฑุจุฑุงู.

## ุชุบุฑุงุช ุงุนูุงู ุดุฏู

### 1. ุงุถุงูู ฺฉุฑุฏู ูุงฺฏโูุง ุฏุจุงฺฏ
- ูุงฺฏ ฺฉุฑุฏู ูุฑ update ุจุง user_id ู ุฒูุงู
- ููุงุด ุงูฺฉู ุขุง update ุฏุฑ ุจุงุฒู ุฒูุงู ูุฑุงุฑ ุฏุงุฑุฏ ุง ูู

### 2. ุจุฑุฑุณ ฺฉุฏ
ฺฉุฏ ูุนู ุฏุฑุณุช ุงุณุช ู ุจุงุฏ ุจู ููู ฺฉุงุฑุจุฑุงู ูพุงู ุจุฏูุฏ:
- `_fetch_all_updates`: ููู updates ุฑุง ุงุฒ Telegram ูโฺฏุฑุฏ
- `_filter_by_time`: ููุท ุจุฑ ุงุณุงุณ ุฒูุงู ููุชุฑ ูโฺฉูุฏ (ูู user_id)
- `_process_message`: ุจู ูุฑ ฺฉุงุฑุจุฑ ฺฉู ูพุงู ุฏุงุฏู ูพุงุณุฎ ูโุฏูุฏ

## ฺุทูุฑ ุชุณุช ฺฉููุ

### ูุฑุญูู 1: ุขูุงุฏูโุณุงุฒ
1. ุฑุจุงุช ุฑุง ุฎุงููุด ฺฉูุฏ
2. ุงุฒ 2-3 ุงฺฉุงูุช ูุฎุชูู (ุบุฑ ุงุฒ ุงุฏูู) ุจู ุฑุจุงุช ูพุงู ุจุฏูุฏ
3. ุฑุจุงุช ุฑุง ุฑูุดู ฺฉูุฏ

### ูุฑุญูู 2: ุงุฌุฑุง ุจุงุฒุงุจ
1. ุจู ูพูู ุงุฏูู ุจุฑูุฏ
2. ุฑู "๐จ ูพุงูโูุง ุขููุงู" ฺฉูฺฉ ฺฉูุฏ
3. ุนุฏุฏ 30 ุฑุง ูุงุฑุฏ ฺฉูุฏ (ุจุฑุง 30 ุฏููู ุงุฎุฑ)

### ูุฑุญูู 3: ุจุฑุฑุณ ูุงฺฏโูุง
ูุงู `logs/manual_recovery.log` ุฑุง ุจุงุฒ ฺฉูุฏ ู ุจู ุฏูุจุงู ุงู ููุงุฑุฏ ุจฺฏุฑุฏุฏ:

```
Total updates: X
Filtered updates: Y
Update from user XXXXX: time=HH:MM:SS, cutoff=HH:MM:SS, included=True/False
Processing message from user XXXXX: ...
Notified user XXXXX about missed message
```

## ุงุญุชูุงูุงุช ูุดฺฉู

### ุงุญุชูุงู 1: Telegram API ูุญุฏูุฏุช ุฏุงุฑุฏ
Telegram ููุท 100 update ุขุฎุฑ ุฑุง ูฺฏู ูโุฏุงุฑุฏ. ุงฺฏุฑ ูพุงูโูุง ฺฉุงุฑุจุฑุงู ูุฏูโุชุฑ ุจุงุดูุฏุ ุฏุฑุงูุช ููโุดููุฏ.

**ุฑุงู ุญู**: ุจุงุฒู ุฒูุงู ฺฉูฺฺฉโุชุฑ ุงูุชุญุงู ฺฉูุฏ (ูุซูุงู 5 ุฏููู)

### ุงุญุชูุงู 2: ูพุงูโูุง ุฎุงุฑุฌ ุงุฒ ุจุงุฒู ุฒูุงู ูุณุชูุฏ
ุงฺฏุฑ ูพุงูโูุง ุจุด ุงุฒ 30 ุฏููู ูุจู ุงุฑุณุงู ุดุฏู ุจุงุดูุฏุ ููุชุฑ ูโุดููุฏ.

**ุฑุงู ุญู**: ุจุงุฒู ุฒูุงู ุจุฒุฑฺฏโุชุฑ ุงูุชุญุงู ฺฉูุฏ (ูุซูุงู 120 ุฏููู)

### ุงุญุชูุงู 3: ูพุงูโูุง ูุจูุงู ูพุฑุฏุงุฒุด ุดุฏูโุงูุฏ
ุงฺฏุฑ `last_update_id` ุฏุฑ ุฏุชุงุจุณ ุฐุฎุฑู ุดุฏู ุจุงุดุฏุ ูพุงูโูุง ูุฏูโุชุฑ ูุงุฏุฏู ฺฏุฑูุชู ูโุดููุฏ.

**ุฑุงู ุญู**: ุฏุฑ ฺฉุฏ ูุนูุ ูุง ุงุฒ `offset=0` ุงุณุชูุงุฏู ูโฺฉูู ฺฉู ุงู ูุดฺฉู ุฑุง ุญู ูโฺฉูุฏ.

## ูุชุฌูโฺฏุฑ

ฺฉุฏ ูุนู **ุตุญุญ** ุงุณุช ู ุจุงุฏ ุจู ููู ฺฉุงุฑุจุฑุงู ูพุงู ุจุฏูุฏ. ุงฺฏุฑ ูููุฒ ูุดฺฉู ุฏุงุฑุฏ:

1. ูุงฺฏโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ
2. ูุทูุฆู ุดูุฏ ูพุงูโูุง ุชุณุช ุฏุฑ ุจุงุฒู ุฒูุงู ุตุญุญ ูุณุชูุฏ
3. ุชุนุฏุงุฏ updates ุฏุฑุงูุช ุดุฏู ุฑุง ฺฺฉ ฺฉูุฏ

## ุฏุณุชูุฑุงุช ููุฏ ุจุฑุง ุฏุจุงฺฏ

```bash
# ูุดุงูุฏู ูุงฺฏโูุง ุจุงุฒุงุจ
tail -f logs/manual_recovery.log

# ุฌุณุชุฌู ูพุงูโูุง ุฎุงุต
grep "Processing message" logs/manual_recovery.log

# ุดูุงุฑุด ุชุนุฏุงุฏ ฺฉุงุฑุจุฑุงู ุงุทูุงุนโุฑุณุงู ุดุฏู
grep "Notified user" logs/manual_recovery.log | wc -l
```

## ุชูุงุณ ุจุง ูพุดุชุจุงู

ุงฺฏุฑ ูุดฺฉู ููฺูุงู ุงุฏุงูู ุฏุงุฑุฏุ ูุทูุงู ููุงุฑุฏ ุฒุฑ ุฑุง ุงุฑุณุงู ฺฉูุฏ:
- ูุญุชูุง ูุงู `logs/manual_recovery.log`
- ุชุนุฏุงุฏ updates ุฏุฑุงูุช ุดุฏู
- ุชุนุฏุงุฏ updates ููุชุฑ ุดุฏู
- user_id ูุง ูุฎุชูู ฺฉู ูพุงู ุฏุงุฏูโุงูุฏ
