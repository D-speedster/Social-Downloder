# ğŸ¬ ØªØ­Ù„ÛŒÙ„ Ùˆ Ø·Ø±Ø§Ø­ÛŒ Ø³ÛŒØ³ØªÙ… Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ø² Ø¢Ù¾Ø§Ø±Ø§Øª

## ØªØ§Ø±ÛŒØ®: 2025-11-01
## ÙˆØ¶Ø¹ÛŒØª: ğŸ“‹ ÙØ§Ø² ØªØ­Ù‚ÛŒÙ‚ Ùˆ Ø·Ø±Ø§Ø­ÛŒ

---

## Ø®Ù„Ø§ØµÙ‡ Ø§Ø¬Ø±Ø§ÛŒÛŒ

Ø¢Ù¾Ø§Ø±Ø§Øª ÛŒÚ© Ù¾Ù„ØªÙØ±Ù… ÙˆÛŒØ¯ÛŒÙˆÛŒÛŒ Ù…Ø­Ø¨ÙˆØ¨ Ø§ÛŒØ±Ø§Ù†ÛŒ Ø§Ø³Øª Ú©Ù‡ yt-dlp Ø§Ø² Ø¢Ù† Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒÙ… ÛŒÚ© Ù…Ø§Ú˜ÙˆÙ„ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ø² Ø¢Ù¾Ø§Ø±Ø§Øª Ø¨Ø³Ø§Ø²ÛŒÙ… Ú©Ù‡:
- Ù…Ø³ØªÙ‚Ù„ Ø§Ø² Ø¨Ø®Ø´ YouTube Ø¨Ø§Ø´Ø¯
- Ø§Ø² yt-dlp Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ø¯ (Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ú©ÙˆÚ©ÛŒ)
- Ø¨Ø§ Ø³Ø§ÛŒØ± Ø¨Ø®Ø´â€ŒÙ‡Ø§ ØªØ¯Ø§Ø®Ù„ Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯

---

## 1. Ø³Ø§Ø®ØªØ§Ø± ÙØ¹Ù„ÛŒ Ø±Ø¨Ø§Øª

### Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯:

#### ğŸ¥ YouTube Handler
- **Ø§Ø¨Ø²Ø§Ø±**: yt-dlp
- **ÙˆÛŒÚ˜Ú¯ÛŒ**: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ú©ÙˆÚ©ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§ÛŒ Ù…Ø­Ø¯ÙˆØ¯
- **ÙØ§ÛŒÙ„â€ŒÙ‡Ø§**: 
  - `plugins/youtube_handler.py`
  - `plugins/youtube_downloader.py`
  - `plugins/youtube_uploader.py`
  - `plugins/youtube_callback.py`
- **Ú©ÙˆÚ©ÛŒ**: `cookie_youtube.txt`

#### ğŸŒ Universal Downloader
- **Ø§Ø¨Ø²Ø§Ø±**: Web services (APIs Ù…Ø®ØªÙ„Ù)
- **Ù¾Ù„ØªÙØ±Ù…â€ŒÙ‡Ø§**: Instagram, TikTok, SoundCloud, Spotify, etc.
- **ÙØ§ÛŒÙ„**: `plugins/universal_downloader.py`
- **ÙˆÛŒÚ˜Ú¯ÛŒ**: Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ú©ÙˆÚ©ÛŒ

#### ğŸµ RadioJavan Handler
- **Ø§Ø¨Ø²Ø§Ø±**: radiojavanapi
- **ÙØ§ÛŒÙ„**: `plugins/radiojavan_handler.py`
- **ÙˆÛŒÚ˜Ú¯ÛŒ**: Ú©Ø§Ù…Ù„Ø§Ù‹ Ù…Ø³ØªÙ‚Ù„

---

## 2. Ú†Ø±Ø§ Ø¢Ù¾Ø§Ø±Ø§Øª Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù…Ø§Ú˜ÙˆÙ„ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ø¯Ø§Ø±Ø¯ØŸ

### âœ… Ù…Ø²Ø§ÛŒØ§:

1. **Ø¬Ø¯Ø§Ø³Ø§Ø²ÛŒ Ù…Ù†Ø·Ù‚**
   - YouTube: Ù†ÛŒØ§Ø² Ø¨Ù‡ Ú©ÙˆÚ©ÛŒØŒ Ú©ÛŒÙÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…ØªØ¹Ø¯Ø¯ØŒ callback system
   - Aparat: Ø¨Ø¯ÙˆÙ† Ú©ÙˆÚ©ÛŒØŒ Ø³Ø§Ø¯Ù‡â€ŒØªØ±ØŒ Ø³Ø±ÛŒØ¹â€ŒØªØ±

2. **Ø¹Ø¯Ù… ØªØ¯Ø§Ø®Ù„ Ø¨Ø§ Ú©ÙˆÚ©ÛŒ YouTube**
   - Ú©ÙˆÚ©ÛŒ YouTube Ù…Ù…Ú©Ù† Ø§Ø³Øª Ù…Ø´Ú©Ù„Ø§ØªÛŒ Ø¨Ø±Ø§ÛŒ Ø¢Ù¾Ø§Ø±Ø§Øª Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†Ø¯
   - Ø¢Ù¾Ø§Ø±Ø§Øª Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ Ú©ÙˆÚ©ÛŒ Ù†Ø¯Ø§Ø±Ø¯

3. **Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…Ø³ØªÙ‚Ù„**
   - ØªÙ†Ø¸ÛŒÙ…Ø§Øª yt-dlp Ù…ØªÙØ§ÙˆØª
   - Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§ Ù…ØªÙØ§ÙˆØª
   - ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ Ù…ØªÙØ§ÙˆØª

4. **Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ø¢Ø³Ø§Ù†â€ŒØªØ±**
   - Ø¨Ø§Ú¯â€ŒÙ‡Ø§ Ø¬Ø¯Ø§ Ø§Ø² Ù‡Ù…
   - Ø¢Ù¾Ø¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…Ø³ØªÙ‚Ù„
   - ØªØ³Øª Ø¢Ø³Ø§Ù†â€ŒØªØ±

---

## 3. Ø·Ø±Ø§Ø­ÛŒ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ

### Ø³Ø§Ø®ØªØ§Ø± ÙØ§ÛŒÙ„â€ŒÙ‡Ø§:

```
plugins/
â”œâ”€â”€ youtube_handler.py          # YouTube (Ø¨Ø§ Ú©ÙˆÚ©ÛŒ)
â”œâ”€â”€ youtube_downloader.py
â”œâ”€â”€ youtube_uploader.py
â”œâ”€â”€ youtube_callback.py
â”œâ”€â”€ universal_downloader.py     # Instagram, TikTok, etc.
â”œâ”€â”€ radiojavan_handler.py       # RadioJavan (API)
â””â”€â”€ aparat_handler.py           # ğŸ†• Aparat (yt-dlp Ø¨Ø¯ÙˆÙ† Ú©ÙˆÚ©ÛŒ)
```

### Ø¬Ø±ÛŒØ§Ù† Ú©Ø§Ø±:

```
Ú©Ø§Ø±Ø¨Ø±: Ù„ÛŒÙ†Ú© Ø¢Ù¾Ø§Ø±Ø§Øª
â†“
start.py: ØªØ´Ø®ÛŒØµ pattern Ø¢Ù¾Ø§Ø±Ø§Øª
â†“
aparat_handler.py: Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒÙ†Ú©
â†“
yt-dlp (Ø¨Ø¯ÙˆÙ† Ú©ÙˆÚ©ÛŒ): Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙˆÛŒØ¯ÛŒÙˆ
â†“
Ø¢Ù¾Ù„ÙˆØ¯ Ø¨Ù‡ ØªÙ„Ú¯Ø±Ø§Ù…
â†“
Ú©Ø§Ø±Ø¨Ø±: Ø¯Ø±ÛŒØ§ÙØª ÙˆÛŒØ¯ÛŒÙˆ
```

---

## 4. ØªÙØ§ÙˆØªâ€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ Ø¨Ø§ YouTube Handler

### YouTube Handler:
```python
ydl_opts = {
    'cookiefile': 'cookie_youtube.txt',  # âœ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ú©ÙˆÚ©ÛŒ
    'format': 'bestvideo+bestaudio',
    'merge_output_format': 'mp4',
    # ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾ÛŒÚ†ÛŒØ¯Ù‡ Ø¨Ø±Ø§ÛŒ Ú©ÛŒÙÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù
}
```

### Aparat Handler (Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ):
```python
ydl_opts = {
    # âŒ Ø¨Ø¯ÙˆÙ† Ú©ÙˆÚ©ÛŒ
    'format': 'best',  # Ø³Ø§Ø¯Ù‡â€ŒØªØ±
    'merge_output_format': 'mp4',
    # ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø³Ø§Ø¯Ù‡â€ŒØªØ±
}
```

---

## 5. ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Aparat Handler

### 5.1 Pattern Recognition
```python
APARAT_REGEX = re.compile(
    r'^(?:https?://)?(?:www\.)?aparat\.com/v/[\w\-]+/?$',
    re.IGNORECASE
)
```

**Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù„ÛŒÙ†Ú©:**
- `https://www.aparat.com/v/abc123`
- `https://aparat.com/v/xyz789`
- `aparat.com/v/test`

### 5.2 Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø³Ø§Ø¯Ù‡
```python
async def download_aparat_video(url: str) -> dict:
    ydl_opts = {
        'quiet': True,
        'no_warnings': True,
        'format': 'best',
        'outtmpl': 'downloads/%(id)s.%(ext)s',
    }
    
    with yt_dlp.YoutubeDL(ydl_opts) as ydl:
        info = ydl.extract_info(url, download=True)
        return {
            'title': info.get('title'),
            'duration': info.get('duration'),
            'views': info.get('view_count'),
            'file_path': ydl.prepare_filename(info)
        }
```

### 5.3 Ø¢Ù¾Ù„ÙˆØ¯ Ø¨Ù‡ ØªÙ„Ú¯Ø±Ø§Ù…
```python
await client.send_video(
    chat_id=message.chat.id,
    video=file_path,
    caption=f"ğŸ¬ {title}\nğŸ‘ {views:,} Ø¨Ø§Ø²Ø¯ÛŒØ¯",
    duration=duration,
    supports_streaming=True
)
```

---

## 6. Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¨Ø§ Ø³Ø§ÛŒØ± Ø±ÙˆØ´â€ŒÙ‡Ø§

### Ú¯Ø²ÛŒÙ†Ù‡ 1: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² YouTube Handler Ù…ÙˆØ¬ÙˆØ¯ âŒ
**Ù…Ø´Ú©Ù„Ø§Øª:**
- ØªØ¯Ø§Ø®Ù„ Ø¨Ø§ Ú©ÙˆÚ©ÛŒ YouTube
- Ú©Ø¯ Ù¾ÛŒÚ†ÛŒØ¯Ù‡â€ŒØªØ± Ø§Ø² Ù†ÛŒØ§Ø²
- Ø³ÛŒØ³ØªÙ… callback ØºÛŒØ±Ø¶Ø±ÙˆØ±ÛŒ
- Ù…Ø¯ÛŒØ±ÛŒØª Ú©ÛŒÙÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…ØªØ¹Ø¯Ø¯ ØºÛŒØ±Ø¶Ø±ÙˆØ±ÛŒ

### Ú¯Ø²ÛŒÙ†Ù‡ 2: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Universal Downloader âŒ
**Ù…Ø´Ú©Ù„Ø§Øª:**
- Universal Ø§Ø² web services Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
- yt-dlp Ø¯Ø± Universal Ù†ÛŒØ³Øª
- Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù…ØªÙØ§ÙˆØª

### Ú¯Ø²ÛŒÙ†Ù‡ 3: Ù…Ø§Ú˜ÙˆÙ„ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Aparat âœ…
**Ù…Ø²Ø§ÛŒØ§:**
- Ú©Ø§Ù…Ù„Ø§Ù‹ Ù…Ø³ØªÙ‚Ù„
- Ø¨Ø¯ÙˆÙ† ØªØ¯Ø§Ø®Ù„
- Ø³Ø§Ø¯Ù‡ Ùˆ Ø³Ø±ÛŒØ¹
- Ù‚Ø§Ø¨Ù„ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ

---

## 7. ØªÙ†Ø¸ÛŒÙ…Ø§Øª yt-dlp Ø¨Ø±Ø§ÛŒ Ø¢Ù¾Ø§Ø±Ø§Øª

### ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ:

```python
APARAT_YDL_OPTS = {
    # Basic settings
    'quiet': True,
    'no_warnings': True,
    'extract_flat': False,
    
    # Format selection
    'format': 'best',  # Ø¨Ù‡ØªØ±ÛŒÙ† Ú©ÛŒÙÛŒØª Ù…ÙˆØ¬ÙˆØ¯
    'merge_output_format': 'mp4',
    
    # Output
    'outtmpl': 'downloads/aparat_%(id)s.%(ext)s',
    
    # Performance
    'concurrent_fragment_downloads': 4,
    'http_chunk_size': 10485760,  # 10MB
    
    # NO COOKIES! âŒ
    # 'cookiefile': None,
    
    # Metadata
    'writethumbnail': False,
    'writesubtitles': False,
}
```

### ØªÙØ§ÙˆØª Ø¨Ø§ YouTube:
| ÙˆÛŒÚ˜Ú¯ÛŒ | YouTube | Aparat |
|-------|---------|--------|
| Ú©ÙˆÚ©ÛŒ | âœ… Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ø¯ | âŒ Ù†ÛŒØ§Ø² Ù†Ø¯Ø§Ø±Ø¯ |
| Ú©ÛŒÙÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…ØªØ¹Ø¯Ø¯ | âœ… Ø¯Ø§Ø±Ø¯ | âŒ ÙÙ‚Ø· best |
| Callback | âœ… Ø¯Ø§Ø±Ø¯ | âŒ Ù†Ø¯Ø§Ø±Ø¯ |
| Ù¾ÛŒÚ†ÛŒØ¯Ú¯ÛŒ | ğŸ”´ Ø¨Ø§Ù„Ø§ | ğŸŸ¢ Ù¾Ø§ÛŒÛŒÙ† |

---

## 8. Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§

### Ø®Ø·Ø§Ù‡Ø§ÛŒ Ø§Ø­ØªÙ…Ø§Ù„ÛŒ:

1. **ÙˆÛŒØ¯ÛŒÙˆ Ø­Ø°Ù Ø´Ø¯Ù‡**
   ```python
   except yt_dlp.utils.DownloadError as e:
       if 'removed' in str(e).lower():
           return "ÙˆÛŒØ¯ÛŒÙˆ Ø­Ø°Ù Ø´Ø¯Ù‡ Ø§Ø³Øª"
   ```

2. **ÙˆÛŒØ¯ÛŒÙˆ Ø®ØµÙˆØµÛŒ**
   ```python
   if 'private' in str(e).lower():
       return "ÙˆÛŒØ¯ÛŒÙˆ Ø®ØµÙˆØµÛŒ Ø§Ø³Øª"
   ```

3. **Ù…Ø´Ú©Ù„ Ø´Ø¨Ú©Ù‡**
   ```python
   except requests.exceptions.ConnectionError:
       return "Ù…Ø´Ú©Ù„ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø¢Ù¾Ø§Ø±Ø§Øª"
   ```

---

## 9. Ø¬Ø±ÛŒØ§Ù† Ú©Ø§Ù…Ù„ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ

### Ù…Ø±Ø­Ù„Ù‡ 1: Ø§ÛŒØ¬Ø§Ø¯ Handler
```python
# plugins/aparat_handler.py
@Client.on_message(filters.private & filters.text & join, group=4)
async def aparat_handler(client, message):
    if not APARAT_REGEX.match(message.text):
        return
    
    # Ø¯Ø§Ù†Ù„ÙˆØ¯ Ùˆ Ø¢Ù¾Ù„ÙˆØ¯
```

### Ù…Ø±Ø­Ù„Ù‡ 2: Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ start.py
```python
# Ø¯Ø± start.py
elif APARAT_REGEX.search(text):
    # Handled by dedicated handler
    pass
```

### Ù…Ø±Ø­Ù„Ù‡ 3: Import Ø¯Ø± bot.py
```python
import plugins.aparat_handler  # ğŸ¬ Aparat downloader
```

### Ù…Ø±Ø­Ù„Ù‡ 4: Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø±Ø§Ù‡Ù†Ù…Ø§
```
ğŸ¬ Ø¢Ù¾Ø§Ø±Ø§Øª - aparat.com
```

---

## 10. Ù…Ø²Ø§ÛŒØ§ÛŒ Ø§ÛŒÙ† Ø±ÙˆÛŒÚ©Ø±Ø¯

### âœ… Ù…Ø²Ø§ÛŒØ§ÛŒ ÙÙ†ÛŒ:
1. **Ø¬Ø¯Ø§Ø³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„**: Ù‡ÛŒÚ† ØªØ¯Ø§Ø®Ù„ÛŒ Ø¨Ø§ YouTube
2. **Ø¨Ø¯ÙˆÙ† Ú©ÙˆÚ©ÛŒ**: Ø³Ø§Ø¯Ù‡â€ŒØªØ± Ùˆ Ø³Ø±ÛŒØ¹â€ŒØªØ±
3. **Ù…Ø³ØªÙ‚Ù„**: Ø¨Ø§Ú¯â€ŒÙ‡Ø§ Ø¬Ø¯Ø§ Ø§Ø² Ù‡Ù…
4. **Ù‚Ø§Ø¨Ù„ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ**: Ú©Ø¯ ØªÙ…ÛŒØ² Ùˆ Ø³Ø§Ø¯Ù‡

### âœ… Ù…Ø²Ø§ÛŒØ§ÛŒ Ú©Ø§Ø±Ø¨Ø±ÛŒ:
1. **Ø³Ø±Ø¹Øª Ø¨Ø§Ù„Ø§**: Ø¨Ø¯ÙˆÙ† overhead Ú©ÙˆÚ©ÛŒ
2. **Ù‚Ø§Ø¨Ù„ Ø§Ø¹ØªÙ…Ø§Ø¯**: Ú©Ù…ØªØ± Ø¯Ú†Ø§Ø± Ø®Ø·Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯
3. **Ø³Ø§Ø¯Ù‡**: ÙÙ‚Ø· Ù„ÛŒÙ†Ú© Ø¨ÙØ±Ø³Øª Ùˆ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†

### âœ… Ù…Ø²Ø§ÛŒØ§ÛŒ ØªÙˆØ³Ø¹Ù‡:
1. **ØªØ³Øª Ø¢Ø³Ø§Ù†**: Ù…Ø³ØªÙ‚Ù„ Ø§Ø² Ø³Ø§ÛŒØ± Ø¨Ø®Ø´â€ŒÙ‡Ø§
2. **Debug Ø±Ø§Ø­Øª**: Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡
3. **Ø¢Ù¾Ø¯ÛŒØª Ù…Ø³ØªÙ‚Ù„**: Ø¨Ø¯ÙˆÙ† ØªØ±Ø³ Ø§Ø² Ø´Ú©Ø³ØªÙ† Ú†ÛŒØ²ÛŒ

---

## 11. Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¨Ø§ RadioJavan

### Ø´Ø¨Ø§Ù‡Øªâ€ŒÙ‡Ø§:
- Ù‡Ø± Ø¯Ùˆ Ù…Ø³ØªÙ‚Ù„ Ù‡Ø³ØªÙ†Ø¯
- Ù‡Ø± Ø¯Ùˆ handler Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ø¯Ø§Ø±Ù†Ø¯
- Ù‡Ø± Ø¯Ùˆ Ø¯Ø± group Ù…Ø¬Ø²Ø§ Ù‡Ø³ØªÙ†Ø¯

### ØªÙØ§ÙˆØªâ€ŒÙ‡Ø§:
| ÙˆÛŒÚ˜Ú¯ÛŒ | RadioJavan | Aparat |
|-------|-----------|--------|
| Ø§Ø¨Ø²Ø§Ø± | radiojavanapi | yt-dlp |
| Ù†ÙˆØ¹ | API | Video platform |
| Ø®Ø±ÙˆØ¬ÛŒ | Audio | Video |
| Ù¾ÛŒÚ†ÛŒØ¯Ú¯ÛŒ | ğŸŸ¡ Ù…ØªÙˆØ³Ø· | ğŸŸ¢ Ø³Ø§Ø¯Ù‡ |

---

## 12. Ù†Ú©Ø§Øª Ø§Ù…Ù†ÛŒØªÛŒ

### âœ… Ù†Ú©Ø§Øª Ù…Ù‡Ù…:

1. **Ø¹Ø¯Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ú©ÙˆÚ©ÛŒ Ù…Ø´ØªØ±Ú©**
   - Ù‡Ø± handler Ú©ÙˆÚ©ÛŒ Ø®ÙˆØ¯Ø´ Ø±Ø§ Ø¯Ø§Ø±Ø¯
   - Ø¢Ù¾Ø§Ø±Ø§Øª Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ Ú©ÙˆÚ©ÛŒ Ù†Ø¯Ø§Ø±Ø¯

2. **Ù…Ø¯ÛŒØ±ÛŒØª ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…ÙˆÙ‚Øª**
   - Ø­Ø°Ù Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ø¹Ø¯ Ø§Ø² Ø¢Ù¾Ù„ÙˆØ¯
   - Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù†Ø§Ù…â€ŒÙ‡Ø§ÛŒ ÛŒÚ©ØªØ§

3. **Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø­Ø¬Ù…**
   - Ú†Ú© Ú©Ø±Ø¯Ù† Ø­Ø¬Ù… Ù‚Ø¨Ù„ Ø§Ø² Ø¯Ø§Ù†Ù„ÙˆØ¯
   - Ù…Ø­Ø¯ÙˆØ¯ÛŒØª ØªÙ„Ú¯Ø±Ø§Ù…: 2GB

---

## 13. ØªØ³Øª Ùˆ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ

### ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ:

1. **ØªØ³Øª Pattern**
   ```python
   test_urls = [
       "https://www.aparat.com/v/abc123",
       "https://aparat.com/v/xyz789",
       "aparat.com/v/test",
   ]
   ```

2. **ØªØ³Øª Ø¯Ø§Ù†Ù„ÙˆØ¯**
   - ÙˆÛŒØ¯ÛŒÙˆ Ú©ÙˆØªØ§Ù‡ (< 10MB)
   - ÙˆÛŒØ¯ÛŒÙˆ Ù…ØªÙˆØ³Ø· (10-100MB)
   - ÙˆÛŒØ¯ÛŒÙˆ Ø¨Ù„Ù†Ø¯ (> 100MB)

3. **ØªØ³Øª Ø®Ø·Ø§**
   - Ù„ÛŒÙ†Ú© Ù†Ø§Ù…Ø¹ØªØ¨Ø±
   - ÙˆÛŒØ¯ÛŒÙˆ Ø­Ø°Ù Ø´Ø¯Ù‡
   - ÙˆÛŒØ¯ÛŒÙˆ Ø®ØµÙˆØµÛŒ

---

## 14. Ø®Ù„Ø§ØµÙ‡ Ùˆ ØªÙˆØµÛŒÙ‡ Ù†Ù‡Ø§ÛŒÛŒ

### âœ… ØªÙˆØµÛŒÙ‡: Ù…Ø§Ú˜ÙˆÙ„ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡

**Ø¯Ù„Ø§ÛŒÙ„:**
1. Ø¹Ø¯Ù… ØªØ¯Ø§Ø®Ù„ Ø¨Ø§ YouTube (Ú©ÙˆÚ©ÛŒØŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª)
2. Ø³Ø§Ø¯Ú¯ÛŒ Ùˆ Ø³Ø±Ø¹Øª Ø¨Ø§Ù„Ø§
3. Ù‚Ø§Ø¨Ù„ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ùˆ ØªÙˆØ³Ø¹Ù‡
4. Ù…Ø´Ø§Ø¨Ù‡ Ø¨Ø§ Ø±ÙˆÛŒÚ©Ø±Ø¯ RadioJavan

### ğŸ“‹ Ù…Ø±Ø§Ø­Ù„ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ:
1. Ø§ÛŒØ¬Ø§Ø¯ `plugins/aparat_handler.py`
2. ØªØ¹Ø±ÛŒÙ pattern Ùˆ yt-dlp options
3. Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ùˆ Ø¢Ù¾Ù„ÙˆØ¯
4. Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ `start.py` Ùˆ `bot.py`
5. ØªØ³Øª Ú©Ø§Ù…Ù„

### ğŸ¯ Ù†ØªÛŒØ¬Ù‡:
ÛŒÚ© Ø³ÛŒØ³ØªÙ… ØªÙ…ÛŒØ²ØŒ Ù…Ø³ØªÙ‚Ù„ Ùˆ Ú©Ø§Ø±Ø¢Ù…Ø¯ Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ø² Ø¢Ù¾Ø§Ø±Ø§Øª Ú©Ù‡ Ø¨Ø§ Ø³Ø§ÛŒØ± Ø¨Ø®Ø´â€ŒÙ‡Ø§ ØªØ¯Ø§Ø®Ù„ Ù†Ø¯Ø§Ø±Ø¯.

---

## 15. Ù…Ø«Ø§Ù„ Ú©Ø¯ Ø³Ø§Ø¯Ù‡

```python
# plugins/aparat_handler.py (Ù†Ù…ÙˆÙ†Ù‡ Ø³Ø§Ø¯Ù‡)

import yt_dlp
from pyrogram import Client, filters
from plugins.start import join

APARAT_REGEX = re.compile(r'^(?:https?://)?(?:www\.)?aparat\.com/v/[\w\-]+/?$')

@Client.on_message(filters.private & filters.text & join, group=4)
async def aparat_handler(client, message):
    if not APARAT_REGEX.match(message.text):
        return
    
    status = await message.reply_text("â¬‡ï¸ Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ø² Ø¢Ù¾Ø§Ø±Ø§Øª...")
    
    try:
        # Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø¨Ø§ yt-dlp (Ø¨Ø¯ÙˆÙ† Ú©ÙˆÚ©ÛŒ)
        ydl_opts = {'format': 'best', 'quiet': True}
        with yt_dlp.YoutubeDL(ydl_opts) as ydl:
            info = ydl.extract_info(message.text, download=True)
            file_path = ydl.prepare_filename(info)
        
        # Ø¢Ù¾Ù„ÙˆØ¯ Ø¨Ù‡ ØªÙ„Ú¯Ø±Ø§Ù…
        await client.send_video(
            chat_id=message.chat.id,
            video=file_path,
            caption=f"ğŸ¬ {info['title']}"
        )
        
        await status.delete()
        os.remove(file_path)
        
    except Exception as e:
        await status.edit_text(f"âŒ Ø®Ø·Ø§: {e}")
```

---

## Ù†ØªÛŒØ¬Ù‡â€ŒÚ¯ÛŒØ±ÛŒ

âœ… **Ù…Ø§Ú˜ÙˆÙ„ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ø¨Ù‡ØªØ±ÛŒÙ† Ø±Ø§Ù‡ Ø­Ù„ Ø§Ø³Øª**
âœ… **Ø¨Ø¯ÙˆÙ† ØªØ¯Ø§Ø®Ù„ Ø¨Ø§ YouTube**
âœ… **Ø³Ø§Ø¯Ù‡ØŒ Ø³Ø±ÛŒØ¹ Ùˆ Ù‚Ø§Ø¨Ù„ Ø§Ø¹ØªÙ…Ø§Ø¯**
âœ… **Ù…Ø´Ø§Ø¨Ù‡ Ø¨Ø§ Ø±ÙˆÛŒÚ©Ø±Ø¯ RadioJavan**

Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ! ğŸš€
